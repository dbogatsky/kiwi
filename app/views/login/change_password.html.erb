<% content_for :pageheader do %>
  <h2><i class="fa fa-lock"></i>Change Password</h2>
<% end %>

<%= form_tag login_change_password_path(@user.id), class: 'form-horizontal',id: 'change_password_form', method: :patch do %>
	<div class="panel panel-default">
		<div class="panel-heading">
			<p>Enter your new password below to update</p>
		</div>
		<div class="panel-body">
			<div class="form-group">
				<label class="col-sm-3 control-label">New Password<span class="asterisk">*</span></label>
				<div class="col-sm-6">
					<input type="password" name="user[password]" class="form-control" id='password' required>
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-3 control-label">Confirm Password<span class="asterisk">*</span></label>
				<div class="col-sm-6">
					<input type="password" name="user[confirm_password]" id='confirm_password'  class="form-control" required>
				</div>
			</div>
		</div>
		<div class="panel-footer">
			<div class="row">
				<div class="col-sm-6 col-sm-offset-3">
					<%=submit_tag 'Update Password', class: 'btn btn-primary'%>
					<!-- <a class="btn btn-default" href="/company">Cancel</a> -->
				</div>
			</div>
		</div>
	</div>
<%end%>

<script>
	$(function(){
		$( "#change_password_form" ).validate({
			debug: true,
		  rules: {
		   'user[password]': {
		   		required: true,
		   		minlength: 8
		    },
		    'user[confirm_password]': {
		      equalTo: "#password",
		      minlength: 8
		    }
		  },
		  submitHandler: function (form) {
		  	form.submit();
      }
		});
	});
</script>